(()=>{"use strict";var e,t={46:()=>{const e=window.wp.blocks,t=window.wp.i18n,a=window.wp.element,l=window.React,r=window.wp.components;class o{constructor(e,t,a){let l=document.querySelectorAll(e);l.forEach(((e,l)=>{null!=t&&!0===t.autoPlay?this.createCarouselDiv(e,l,{interval:null!=t.autoPlayInterval?t.autoPlayInterval:2e3,auto:null==t.autoPlaySelector||Array.from(document.querySelectorAll(t.autoPlaySelector)).includes(e)},a):this.createCarouselDiv(e,l,{},a)})),window.addEventListener("resize",(()=>this.adjustOnResize(l)))}createCarouselDiv(e,t,a,l){let r=e.offsetWidth,o=e.offsetHeight,n=Array.from(e.querySelectorAll("img"));n.map((e=>e.style.display="none"));let i=document.createElement("div");i.id="ctc-carousel-"+t,i.classList.add("ctcCarouselDiv"),i.style=`width:${r}px;height:${o}px;margin-left:auto;margin-right:auto;display:block`;let c=document.createElement("div");c.addEventListener("mouseenter",(e=>e.target.querySelectorAll("div").forEach((e=>e.style.opacity="1")))),c.addEventListener("mouseleave",(e=>e.target.querySelectorAll("div").forEach((e=>e.style.opacity="0")))),c.id="ctc-carousel-img-div-"+t,c.style=`box-shadow: 1px 1px 15px rgba(0,0,0,0.7);transition: 0.3s ease;background :rgba(0, 0 , 0, 0.8) url("") no-repeat center; background-size:contain;height:${o}px;width:${r}px;margin-left:-1px;color:rgba(255,255,255,1);text-align:center;`,i.appendChild(c),e.appendChild(i),this.loadImage(0,c,n,t),0!==a&&!0===a.auto&&setInterval((()=>c.querySelector("#next-img-"+t).click()),a.interval),null!=l&&"function"==typeof l.callBack&&l.callBack(e)}loadImage(e,t,a,l){t.style.backgroundImage="url('')";let r=new Image;r.src=a[e].src,null!=t.querySelector(`#img-loading-${l}`)&&t.removeChild(t.querySelector(`#img-loading-${l}`));let o=document.createElement("span");o.id=`img-loading-${l}`,o.style=`font-size:${.015*t.offsetWidth}px;width:${.07*t.offsetWidth}px;height:${.07*t.offsetHeight}px;margin-top:${t.offsetHeight/2}px;text-align:center;display:inline-block;`,o.innerHTML="Loading<b>.</b>";let n=setInterval((()=>{switch(o.innerHTML){case"LoadingM<b>.</b>":case"Loading...<b>.</b>":o.innerHTML="Loading<b>.</b>";break;case"Loading<b>.</b>":o.innerHTML="Loading.<b>.</b>";break;case"Loading.<b>.</b>":o.innerHTML="Loading..<b>.</b>";break;case"Loading..<b>.</b>":o.innerHTML="Loading...<b>.</b>"}}),350);t.appendChild(o),r.addEventListener("load",(l=>{clearInterval(n),null!=o&&t.removeChild(o),t.style.backgroundImage=`url('${a[e].src}')`,t.title=null!==a[e].getAttribute("title")?a[e].getAttribute("title"):""})),this.navButton(e,t,a,l)}navButton(e,t,a,l){let r=t.offsetHeight,o=t.offsetWidth,n=0===e?a.length-1:e-1,i=a.length-1===e?0:e+1,c=.03*o,s=.2*r,d=document.createElement("div");d.id=`carousel-${l}-prev`,d.style=`height:${s}px;margin-top:${(r-s)/2}px;float:left;color:rgba(0,0,0,0.7);display:flex;font-size:${.08*o}px;width:${c}px;background-color:rgba(255, 255 , 255, 1);`;let u=document.createElement("span");u.id=`prev-img-${l}`,u.style=`box-shadow: 1px 1px 15px rgba(0,0,0,0.7);width:${c}px;box-shadow: -1px 1px 5px rgba(255,255,255,0.7);cursor:pointer;color:rgba(0,0,0,0.8);text-shadow: -2px 2px 5px rgba(0,0,0,1); background :rgba(255, 255 , 255, 0.3) url("") no-repeat top; background-size:contain;font-family:none;`,u.title="Loading",u.innerHTML="&#8249;",u.addEventListener("mouseenter",(e=>e.target.style.textShadow="-4px 4px 10px rgba(0,0,0,0.9 )")),u.addEventListener("mouseleave",(e=>e.target.style.textShadow="-2px 2px 5px rgba(0,0,0,1)"));let g=setInterval((()=>{u.innerHTML=""==u.innerHTML?"&#8249;":""}),500),p=new Image;p.src=a[n].src,p.addEventListener("load",(e=>{u.style.backgroundImage=`url('${e.target.src}')`,clearInterval(g),u.innerHTML="&#8249;",u.title=null!=a[n].getAttribute("title")?a[n].getAttribute("title"):"Previous Image"})),d.appendChild(u);let h=document.createElement("div");h.id=`carousel-${l}-next`,h.style=`text-align:center;margin-right:1px;height:${s}px;float:right;margin-top:${(r-s)/2}px;margin-right:0px;color:rgba(0,0,0,0.7);display:flex; font-size:${.08*o}px;width:${c}px;background-color:rgba(255, 255 , 255, 1);`;let y=document.createElement("span");y.id=`next-img-${l}`,y.style=`width:${c}px;box-shadow: -1px 1px 5px rgba(255,255,255,0.7);cursor:pointer;color:rgba(0,0,0,0.8);text-shadow: -2px 2px 5px rgba(0,0,0,1);background :rgba(255, 255 , 255, 0.3) url("") no-repeat top; background-size:contain;font-family:none;`,y.title="Next Image",y.innerHTML="&#8250;",y.addEventListener("mouseenter",(e=>e.target.style.textShadow="-4px 4px 10px rgba(0,0,0,0.9 )")),y.addEventListener("mouseleave",(e=>e.target.style.textShadow="-2px 2px 5px rgba(0,0,0,1)"));let m=setInterval((()=>{y.innerHTML=""==y.innerHTML?"&#8250;":""}),500),b=new Image;b.src=a[i].src,b.addEventListener("load",(e=>{y.style.backgroundImage=`url('${e.target.src}')`,clearInterval(m),y.innerHTML="&#8250;",y.title=null!=a[i].getAttribute("title")?a[i].getAttribute("title"):"Next Image"})),h.appendChild(y),d.addEventListener("click",(e=>{t.removeChild(d),t.removeChild(h),this.loadImage(n,t,a,l)})),h.addEventListener("click",(e=>{t.removeChild(h),t.removeChild(d),this.loadImage(i,t,a,l)})),t.appendChild(d),t.appendChild(h)}adjustOnResize(e){e.forEach(((e,t)=>{let a=e.offsetWidth,l=e.offsetHeight,r=e.querySelector(`#ctc-carousel-${t}`),o=r.querySelector(`#ctc-carousel-img-div-${t}`),n=o.querySelector(`#img-loading-${t}`),i=o.querySelector(`#carousel-${t}-prev`),c=o.querySelector(`#carousel-${t}-next`),s=i.querySelector(`#prev-img-${t}`),d=c.querySelector(`#next-img-${t}`),u=.03*a,g=.2*l;o.style.width=r.style.width=`${a}px`,o.style.height=r.style.height=`${l}px`,c.style.width=i.style.width=s.style.width=d.style.width=`${u}px`,c.style.height=i.style.height=`${g}px`,c.style.marginTop=i.style.marginTop=(l-g)/2+"px",c.style.fontSize=i.style.fontSize=.08*a+"px",null!=n&&(n.style=`font-size:${.015*a}px;width:${.05*a}px;height:${.07*l}px;margin-top:${l/2}px;text-align:center;display:inline-block;`)}))}}const n=window.wp.blockEditor,i=JSON.parse('{"u2":"ctc-carousel/ctc-carousel"}');(0,e.registerBlockType)(i.u2,{keywords:[(0,t.__)("Carousel","ctc-carousel"),(0,t.__)("Carousel Gallery","ctc-carousel")],attributes:{autoPlay:{type:"Boolean",default:!1},autoPlayInterval:{type:"Number",default:200},carouselHeight:{type:"Number",default:300},carouselWidth:{type:"Number",default:600},gallery:{type:"Array",default:[]},clntId:{type:"String",default:""}},edit:function({clientId:e,attributes:i,setAttributes:c}){let s=(0,l.useRef)();return(0,l.useEffect)((()=>{let t=document.querySelector(".ctcCarouselDiv");null!=t&&t.remove(),new o(`#${s.current.id}`,{autoPlay:i.autoPlay,autoPlayInterval:parseInt(i.autoPlayInterval),autoPlaySelector:`#${s.current.id}`},{callBack:e=>e.style.opacity="1"}),c({clntId:e})}),[i.gallery,i.autoPlay,i.autoPlayInterval,i.carouselHeight,i.carouselWidth]),(0,a.createElement)("div",{...(0,n.useBlockProps)(),style:{height:"auto",width:"auto"}},0<i.gallery.length&&(0,a.createElement)("div",{ref:s,id:`ctc-carousel-${e}`,style:{marginLeft:"auto",marginRight:"auto",display:"block",opacity:"0",width:`${i.carouselWidth}px`,height:`${i.carouselHeight}px`},className:`ctc-carousel ctc-carousel-${e}`},i.gallery.map(((e,t)=>(0,a.createElement)("img",{key:t,src:e.url})))),(0,a.createElement)("div",null,(0,a.createElement)(n.MediaUploadCheck,null,(0,a.createElement)(n.MediaUpload,{title:(0,t.__)("Select/Update Images","ctc-carousel"),multiple:!0,value:i.gallery.map((e=>e.id)),gallery:!0,onSelect:e=>c({gallery:e}),allowedTypes:["image"],render:({open:e})=>(0,a.createElement)("div",{style:{width:"100%",backgroundColor:"rgba(255,255,,255,1)",color:"rgb(61, 148, 218)",padding:"10px"}},(0,a.createElement)(r.Button,{style:{marginLeft:"auto",marginRight:"auto",display:"block",color:"rgb(61, 148, 218)",border:"1px solid rgb(61, 148, 218)"},className:"ctc-gal-button dashicons-before dashicons-slides",onClick:e},i.gallery.length>1?(0,t.__)(" Update  Gallery","ctc-gal"):(0,t.__)(" Select Images","ctc-gal")))}))),(0,a.createElement)("div",null,(0,a.createElement)(n.InspectorControls,null,(0,a.createElement)(r.PanelBody,null,(0,a.createElement)(r.ToggleControl,{label:(0,t.__)("Autoplay","ctc-carousel"),checked:i.autoPlay,onChange:e=>c({autoPlay:e})}),i.autoPlay&&(0,a.createElement)(a.Fragment,null," ",(0,a.createElement)(r.RangeControl,{label:(0,t.__)("Autoplay Invertval (in micro seconds)","ctc-carousel"),min:500,max:1e4,onChange:e=>c({autoPlayInterval:e}),value:i.autoPlayInterval,resetFallbackValue:2e3})),(0,a.createElement)(r.RangeControl,{label:(0,t.__)("Carousel Width (px)","ctc-carousel"),min:400,max:850,onChange:e=>c({carouselWidth:e}),value:i.carouselWidth,resetFallbackValue:500}),(0,a.createElement)(r.RangeControl,{label:(0,t.__)("Carousel Height (px)","ctc-carousel"),min:200,max:450,onChange:e=>c({carouselHeight:e}),value:i.carouselHeight,resetFallbackValue:300})))))},save:function({attributes:e}){return(0,a.createElement)("div",{...n.useBlockProps.save()},0<e.gallery.length&&(0,a.createElement)("div",{id:`ctc-carousel-${e.clntId}`,"data-autoplay-interval":e.autoPlayInterval,"data-autoplay":e.autoPlay,style:{marginLeft:"auto",marginRight:"auto",display:"block",opacity:"0",width:`${e.carouselWidth}px`,height:`${e.carouselHeight}px`},className:`ctc-carousel ctc-carousel-${e.clntId}`},e.gallery.map(((e,t)=>(0,a.createElement)("img",{key:t,src:e.url})))))}})}},a={};function l(e){var r=a[e];if(void 0!==r)return r.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,l),o.exports}l.m=t,e=[],l.O=(t,a,r,o)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],o=e[d][2];for(var i=!0,c=0;c<a.length;c++)(!1&o||n>=o)&&Object.keys(l.O).every((e=>l.O[e](a[c])))?a.splice(c--,1):(i=!1,o<n&&(n=o));if(i){e.splice(d--,1);var s=r();void 0!==s&&(t=s)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var r,o,n=a[0],i=a[1],c=a[2],s=0;if(n.some((t=>0!==e[t]))){for(r in i)l.o(i,r)&&(l.m[r]=i[r]);if(c)var d=c(l)}for(t&&t(a);s<n.length;s++)o=n[s],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(d)},a=self.webpackChunkctc_carousel=self.webpackChunkctc_carousel||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=l.O(void 0,[431],(()=>l(46)));r=l.O(r)})();