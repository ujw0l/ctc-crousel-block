(()=>{"use strict";class e{constructor(e,t,a){let l=document.querySelectorAll(e);l.forEach(((e,l)=>{null!=t&&!0===t.autoPlay?this.createCarouselDiv(e,l,{interval:null!=t.autoPlayInterval?t.autoPlayInterval:2e3,auto:null==t.autoPlaySelector||Array.from(document.querySelectorAll(t.autoPlaySelector)).includes(e)},a):this.createCarouselDiv(e,l,{},a)})),window.addEventListener("resize",(()=>this.adjustOnResize(l)))}createCarouselDiv(e,t,a,l){let r=e.offsetWidth,i=e.offsetHeight,n=Array.from(e.querySelectorAll("img"));n.map((e=>e.style.display="none"));let o=document.createElement("div");o.id="ctc-carousel-"+t,o.classList.add("ctcCarouselDiv"),o.style=`width:${r}px;height:${i}px;margin-left:auto;margin-right:auto;display:block`;let d=document.createElement("div");d.addEventListener("mouseenter",(e=>e.target.querySelectorAll("div").forEach((e=>e.style.opacity="1")))),d.addEventListener("mouseleave",(e=>e.target.querySelectorAll("div").forEach((e=>e.style.opacity="0")))),d.id="ctc-carousel-img-div-"+t,d.style=`box-shadow: 1px 1px 15px rgba(0,0,0,0.7);transition: 0.3s ease;background :rgba(0, 0 , 0, 0.8) url("") no-repeat center; background-size:contain;height:${i}px;width:${r}px;margin-left:-1px;color:rgba(255,255,255,1);text-align:center;`,o.appendChild(d),e.appendChild(o),this.loadImage(0,d,n,t),0!==a&&!0===a.auto&&setInterval((()=>d.querySelector("#next-img-"+t).click()),a.interval),null!=l&&"function"==typeof l.callBack&&l.callBack(e)}loadImage(e,t,a,l){t.style.backgroundImage="url('')";let r=new Image;r.src=a[e].src,null!=t.querySelector(`#img-loading-${l}`)&&t.removeChild(t.querySelector(`#img-loading-${l}`));let i=document.createElement("span");i.id=`img-loading-${l}`,i.style=`font-size:${.015*t.offsetWidth}px;width:${.07*t.offsetWidth}px;height:${.07*t.offsetHeight}px;margin-top:${t.offsetHeight/2}px;text-align:center;display:inline-block;`,i.innerHTML="Loading<b>.</b>";let n=setInterval((()=>{switch(i.innerHTML){case"LoadingM<b>.</b>":case"Loading...<b>.</b>":i.innerHTML="Loading<b>.</b>";break;case"Loading<b>.</b>":i.innerHTML="Loading.<b>.</b>";break;case"Loading.<b>.</b>":i.innerHTML="Loading..<b>.</b>";break;case"Loading..<b>.</b>":i.innerHTML="Loading...<b>.</b>"}}),350);t.appendChild(i),r.addEventListener("load",(l=>{clearInterval(n),null!=i&&t.removeChild(i),t.style.backgroundImage=`url('${a[e].src}')`,t.title=null!==a[e].getAttribute("title")?a[e].getAttribute("title"):""})),this.navButton(e,t,a,l)}navButton(e,t,a,l){let r=t.offsetHeight,i=t.offsetWidth,n=0===e?a.length-1:e-1,o=a.length-1===e?0:e+1,d=.03*i,s=.2*r,c=document.createElement("div");c.id=`carousel-${l}-prev`,c.style=`height:${s}px;margin-top:${(r-s)/2}px;float:left;color:rgba(0,0,0,0.7);display:flex;font-size:${.08*i}px;width:${d}px;background-color:rgba(255, 255 , 255, 1);`;let g=document.createElement("span");g.id=`prev-img-${l}`,g.style=`box-shadow: 1px 1px 15px rgba(0,0,0,0.7);width:${d}px;box-shadow: -1px 1px 5px rgba(255,255,255,0.7);cursor:pointer;color:rgba(0,0,0,0.8);text-shadow: -2px 2px 5px rgba(0,0,0,1); background :rgba(255, 255 , 255, 0.3) url("") no-repeat top; background-size:contain;font-family:none;`,g.title="Loading",g.innerHTML="&#8249;",g.addEventListener("mouseenter",(e=>e.target.style.textShadow="-4px 4px 10px rgba(0,0,0,0.9 )")),g.addEventListener("mouseleave",(e=>e.target.style.textShadow="-2px 2px 5px rgba(0,0,0,1)"));let u=setInterval((()=>{g.innerHTML=""==g.innerHTML?"&#8249;":""}),500),p=new Image;p.src=a[n].src,p.addEventListener("load",(e=>{g.style.backgroundImage=`url('${e.target.src}')`,clearInterval(u),g.innerHTML="&#8249;",g.title=null!=a[n].getAttribute("title")?a[n].getAttribute("title"):"Previous Image"})),c.appendChild(g);let h=document.createElement("div");h.id=`carousel-${l}-next`,h.style=`text-align:center;margin-right:1px;height:${s}px;float:right;margin-top:${(r-s)/2}px;margin-right:0px;color:rgba(0,0,0,0.7);display:flex; font-size:${.08*i}px;width:${d}px;background-color:rgba(255, 255 , 255, 1);`;let x=document.createElement("span");x.id=`next-img-${l}`,x.style=`width:${d}px;box-shadow: -1px 1px 5px rgba(255,255,255,0.7);cursor:pointer;color:rgba(0,0,0,0.8);text-shadow: -2px 2px 5px rgba(0,0,0,1);background :rgba(255, 255 , 255, 0.3) url("") no-repeat top; background-size:contain;font-family:none;`,x.title="Next Image",x.innerHTML="&#8250;",x.addEventListener("mouseenter",(e=>e.target.style.textShadow="-4px 4px 10px rgba(0,0,0,0.9 )")),x.addEventListener("mouseleave",(e=>e.target.style.textShadow="-2px 2px 5px rgba(0,0,0,1)"));let y=setInterval((()=>{x.innerHTML=""==x.innerHTML?"&#8250;":""}),500),m=new Image;m.src=a[o].src,m.addEventListener("load",(e=>{x.style.backgroundImage=`url('${e.target.src}')`,clearInterval(y),x.innerHTML="&#8250;",x.title=null!=a[o].getAttribute("title")?a[o].getAttribute("title"):"Next Image"})),h.appendChild(x),c.addEventListener("click",(e=>{t.removeChild(c),t.removeChild(h),this.loadImage(n,t,a,l)})),h.addEventListener("click",(e=>{t.removeChild(h),t.removeChild(c),this.loadImage(o,t,a,l)})),t.appendChild(c),t.appendChild(h)}adjustOnResize(e){e.forEach(((e,t)=>{let a=e.offsetWidth,l=e.offsetHeight,r=e.querySelector(`#ctc-carousel-${t}`),i=r.querySelector(`#ctc-carousel-img-div-${t}`),n=i.querySelector(`#img-loading-${t}`),o=i.querySelector(`#carousel-${t}-prev`),d=i.querySelector(`#carousel-${t}-next`),s=o.querySelector(`#prev-img-${t}`),c=d.querySelector(`#next-img-${t}`),g=.03*a,u=.2*l;i.style.width=r.style.width=`${a}px`,i.style.height=r.style.height=`${l}px`,d.style.width=o.style.width=s.style.width=c.style.width=`${g}px`,d.style.height=o.style.height=`${u}px`,d.style.marginTop=o.style.marginTop=(l-u)/2+"px",d.style.fontSize=o.style.fontSize=.08*a+"px",null!=n&&(n.style=`font-size:${.015*a}px;width:${.05*a}px;height:${.07*l}px;margin-top:${l/2}px;text-align:center;display:inline-block;`)}))}}window.addEventListener("DOMContentLoaded",(()=>{Array.from(document.querySelectorAll(".ctc-carousel")).map((t=>{console.log(t.getAttribute("data-autoplay-interval"));let a="true"==t.getAttribute("data-autoplay"),l=null!=t.getAttribute("data-autoplay-interval")?parseInt(t.getAttribute("data-autoplay-interval")):2e3;new e(`#${t.id}`,{autoPlay:a,autoPlayInterval:l,autoPlaySelector:`#${t.id}`},{callBack:e=>e.style.opacity="1"})}))}))})();